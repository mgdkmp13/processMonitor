<UserControl x:Class="processMonitor.Views.ProccessListView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <ListView ItemsSource="{Binding ProcessesView}"
              SelectedItem="{Binding SelectedProcess, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
        <ListView.View>
            <GridView>
                <GridViewColumn Width="60">
                    <GridViewColumn.Header>
                        <GridViewColumnHeader Content="PID" Click="ColumnHeader_Click" Tag="Id"/>
                    </GridViewColumn.Header>
                    <GridViewColumn.DisplayMemberBinding>
                        <Binding Path="Id" Mode="OneWay"/>
                    </GridViewColumn.DisplayMemberBinding>
                </GridViewColumn>
                
                <GridViewColumn Width="150">
                    <GridViewColumn.Header>
                        <GridViewColumnHeader Content="Name" Click="ColumnHeader_Click" Tag="Name"/>
                    </GridViewColumn.Header>
                    <GridViewColumn.DisplayMemberBinding>
                        <Binding Path="Name" Mode="OneWay"/>
                    </GridViewColumn.DisplayMemberBinding>
                </GridViewColumn>
                
                <GridViewColumn Width="100">
                    <GridViewColumn.Header>
                        <GridViewColumnHeader Content="Memory (MB)" Click="ColumnHeader_Click" Tag="MemoryMB"/>
                    </GridViewColumn.Header>
                    <GridViewColumn.DisplayMemberBinding>
                        <Binding Path="MemoryMB" StringFormat="N2" Mode="OneWay"/>
                    </GridViewColumn.DisplayMemberBinding>
                </GridViewColumn>
                
                <GridViewColumn Width="70">
                    <GridViewColumn.Header>
                        <GridViewColumnHeader Content="Threads" Click="ColumnHeader_Click" Tag="ThreadCount"/>
                    </GridViewColumn.Header>
                    <GridViewColumn.DisplayMemberBinding>
                        <Binding Path="ThreadCount" Mode="OneWay"/>
                    </GridViewColumn.DisplayMemberBinding>
                </GridViewColumn>
                
                <GridViewColumn Width="100">
                    <GridViewColumn.Header>
                        <GridViewColumnHeader Content="Priority" Click="ColumnHeader_Click" Tag="Priority"/>
                    </GridViewColumn.Header>
                    <GridViewColumn.DisplayMemberBinding>
                        <Binding Path="Priority" Mode="OneWay"/>
                    </GridViewColumn.DisplayMemberBinding>
                </GridViewColumn>
            </GridView>
        </ListView.View>

        <ListView.ItemContainerStyle>
            <Style TargetType="ListViewItem">
                <Setter Property="ToolTip">
                    <Setter.Value>
                        <StackPanel>
                            <TextBlock>
                                <Run Text="Process ID: "/>
                                <Run Text="{Binding Id, Mode=OneWay}"/>
                            </TextBlock>
                            <TextBlock>
                                <Run Text="Tracked: "/>
                                <Run Text="{Binding IsTracked, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"/>
                            </TextBlock>
                            <TextBlock>
                                <Run Text="Started at: "/>
                                <Run Text="{Binding TrackingStartedAt, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"/>
                            </TextBlock>
                        </StackPanel>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <DataTrigger Binding="{Binding IsTracked, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" Value="True">
                        <Setter Property="Background" Value="LightGreen"/>
                    </DataTrigger>
                </Style.Triggers>
            </Style>
        </ListView.ItemContainerStyle>
    </ListView>
</UserControl>